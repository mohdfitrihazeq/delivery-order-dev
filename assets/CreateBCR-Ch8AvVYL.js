import{a as V,s as C}from"./index-BZdkZB22.js";import{s as R}from"./index-CE414EAY.js";import{g as B,M as S,u as q,r,c as $,_ as I,z as w,b as c,k as U,l as f,e,f as s,d as u,F as M,x as O,t as x,s as D}from"./index-BWWByROH.js";import{_ as N}from"./BreadcrumbList.vue_vue_type_script_setup_true_lang-CZdJiYSg.js";import"./index-DJe2vpyj.js";const E=B({name:"CreateBCR",components:{Motion:S},setup(){const o=q(),t=r("RO2025208757"),v=r("Jakson"),g=r("29/9/2025"),k=r([{label:"Exceed Budget",value:"Exceed Budget"},{label:"Mockup Remeasurement",value:"Mockup Remeasurement"},{label:"QS remeasurement",value:"QS remeasurement"},{label:"VO",value:"VO"},{label:"Others",value:"Others"}]),b=r([]),m=r([{label:"STL-01",value:"STL-01",description:"Steel reinforcement bar 60mm",uom:"Ton"},{label:"CEM-02",value:"CEM-02",description:"Cement Portland Type I",uom:"Bag"}]),i=()=>{b.value.push({itemCode:"",description:"",uom:"",quantity:"1",deliveryDate:null,notes:"",remark:"",showNotes:!1,showRemark:!1})},n=d=>{const l=m.value.find(p=>p.value===d.itemCode);l&&(d.description=l.description,d.uom=l.uom)},h=d=>{const l=m.value.find(p=>p.value===d);return l?l.label:d},y=$(()=>b.value.length*100),_=r(!0);return{roNumber:t,requestBy:v,requestDate:g,reasonOptions:k,items:b,addItem:i,itemOptions:m,fillItemDetails:n,getItemLabel:h,totalVarianceAmount:y,isAttachmentValid:_,goBack:()=>o.push({name:"request-orders"})}}}),L={class:"p-6 card"},T={class:"flex items-center justify-between mb-6"},j={class:"flex gap-2"},A={class:"card p-4 mb-6 shadow"},Q={class:"grid grid-cols-2 gap-4"},F={class:"card p-4 mb-6 shadow"},z={class:"flex justify-between items-center mb-4"},H={class:"flex gap-2"},J={key:0,class:"flex justify-center items-center py-10 text-gray-500"},K={key:1,class:"overflow-x-auto"},P={class:"min-w-full rounded-lg border"},G={class:"px-3 py-2"},W={class:"flex flex-col"},X={class:"font-medium"},Y={class:"text-xs text-gray-500"},Z={key:0},ee={key:1,class:"text-gray-400"},te={class:"px-3 py-2"},se={class:"px-3 py-2"},le={class:"px-3 py-2"},oe={class:"px-3 py-2"},ae={class:"px-3 py-2"},ne={class:"px-3 py-2"},de={class:"px-3 py-2"},ie={class:"px-3 py-2"},re={class:"px-3 py-2"},ce={class:"px-3 py-2"},pe={class:"px-3 py-2 text-center"},ue={class:"pt-3 mt-2 border-t text-sm text-gray-600 flex justify-between"};function me(o,t,v,g,k,b){const m=N,i=D,n=R,h=V,y=w("Motion"),_=C,d=w("InputTextStyle");return c(),U(y,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.6}},{default:f(()=>[e("div",L,[s(m),e("div",T,[t[2]||(t[2]=e("div",null,[e("h1",{class:"text-2xl font-bold"},"New Budget Change Request"),e("p",{class:"text-gray-500"},"Project: MKT")],-1)),e("div",j,[s(i,{label:"Cancel",onClick:t[0]||(t[0]=l=>o.$router.push("/bcr")),outlined:""}),s(i,{label:"Save as Draft",severity:"secondary",outlined:""}),s(i,{label:"Submit Request",disabled:!o.isAttachmentValid},null,8,["disabled"])])]),e("div",A,[t[7]||(t[7]=e("h2",{class:"text-lg font-semibold mb-4"},"Header Information",-1)),e("div",Q,[e("div",null,[t[3]||(t[3]=e("label",{class:"block text-sm text-gray-600 mb-1"},"Request No",-1)),s(n,{modelValue:o.roNumber,"onUpdate:modelValue":t[1]||(t[1]=l=>o.roNumber=l),type:"text",class:"w-full"},null,8,["modelValue"])]),e("div",null,[t[4]||(t[4]=e("label",{for:"requestedBy",class:"block text-sm text-gray-600 mb-1"},"Requested By",-1)),s(n,{id:"requestedBy",type:"text",class:"w-full"})]),e("div",null,[t[5]||(t[5]=e("label",{for:"dateRequested",class:"block text-sm text-gray-600 mb-1"},"Date Requested",-1)),s(n,{id:"dateRequested",type:"text",class:"w-full"})]),e("div",null,[t[6]||(t[6]=e("label",{for:"reason",class:"block text-sm text-gray-600 mb-1"},"Reason of Request",-1)),s(h,{id:"reason",options:o.reasonOptions,optionLabel:"label",optionValue:"value",placeholder:"Select Reason",class:"w-full"},null,8,["options"])])])]),e("div",F,[e("div",z,[t[8]||(t[8]=e("h2",{class:"text-lg font-semibold"},"Materials Section",-1)),e("div",H,[s(i,{label:"+ Add Material",onClick:o.addItem},null,8,["onClick"])])]),o.items.length===0?(c(),u("div",J,[s(y,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8}},{default:f(()=>t[9]||(t[9]=[e("div",{class:"text-center"},[e("div",{class:"text-5xl mb-2"},"ðŸ“¦"),e("p",null,"No material added yet")],-1)])),_:1})])):(c(),u("div",K,[s(y,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8}},{default:f(()=>[e("table",P,[t[10]||(t[10]=e("thead",{class:"text-sm text-gray-600 bg-gray-50"},[e("tr",null,[e("th",{class:"px-3 py-2 text-left"},"Item Code"),e("th",{class:"px-3 py-2 text-left"},"Description"),e("th",{class:"px-3 py-2 text-left"},"Units"),e("th",{class:"px-3 py-2 text-left"},"Unit Price"),e("th",{class:"px-3 py-2 text-left"},"Budgeted Quantity"),e("th",{class:"px-3 py-2 text-left"},"Ordered Quantity"),e("th",{class:"px-3 py-2 text-left"},"New Order"),e("th",{class:"px-3 py-2 text-left"},"Exceeded Quantity"),e("th",{class:"px-3 py-2 text-left"},"Exceeded %"),e("th",{class:"px-3 py-2 text-left"},"Estimated $ exceed"),e("th",{class:"px-3 py-2 text-left"},"Remarks"),e("th",{class:"px-3 py-2 text-left"},"Actions")])],-1)),e("tbody",null,[(c(!0),u(M,null,O(o.items,(l,p)=>(c(),u("tr",{key:p,class:"border-t align-top"},[e("td",G,[s(_,{modelValue:l.itemCode,"onUpdate:modelValue":a=>l.itemCode=a,options:o.itemOptions,optionLabel:"label",optionValue:"value",placeholder:"Select item...",class:"w-full",onChange:a=>o.fillItemDetails(l)},{option:f(a=>[e("div",W,[e("span",X,x(a.option.label),1),e("span",Y,x(a.option.description),1)])]),value:f(a=>[a.value?(c(),u("span",Z,x(o.getItemLabel(a.value)),1)):(c(),u("span",ee,"Select item..."))]),_:2},1032,["modelValue","onUpdate:modelValue","options","onChange"])]),e("td",te,[s(n,{modelValue:l.description,"onUpdate:modelValue":a=>l.description=a,placeholder:"Description",class:"w-full",disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),e("td",se,[s(n,{modelValue:l.uom,"onUpdate:modelValue":a=>l.uom=a,placeholder:"Unit",class:"w-full",disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),e("td",le,[s(n,{type:"number",placeholder:"0.00",class:"w-full"})]),e("td",oe,[s(d,{type:"number",placeholder:"0",class:"w-full"})]),e("td",ae,[s(n,{type:"number",placeholder:"0",class:"w-full"})]),e("td",ne,[s(n,{type:"number",placeholder:"0",class:"w-full"})]),e("td",de,[s(n,{type:"number",placeholder:"0",class:"w-full"})]),e("td",ie,[s(n,{type:"number",placeholder:"0%",class:"w-full"})]),e("td",re,[s(n,{type:"number",placeholder:"0.00",class:"w-full"})]),e("td",ce,[s(n,{modelValue:l.remark,"onUpdate:modelValue":a=>l.remark=a,placeholder:"Remark",class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])]),e("td",pe,[s(i,{icon:"pi pi-trash",severity:"danger",text:"",onClick:a=>o.items.splice(p,1)},null,8,["onClick"])])]))),128))])]),e("div",ue,[e("span",null,x(o.items.length)+" "+x(o.items.length>1?"items":"item"),1)])]),_:1})]))])])]),_:1})}const _e=I(E,[["render",me]]);export{_e as default};
