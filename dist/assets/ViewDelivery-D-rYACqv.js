import{_ as N}from"./ReusableTable.vue_vue_type_script_setup_true_lang-DHLeMhal.js";import{s as g}from"./index-0WzKa8Xy.js";import{_ as P}from"./BreadcrumbList.vue_vue_type_script_setup_true_lang-Brefl-cP.js";import{g as C,M as h,ac as I,r as l,c as v,_ as S,z as _,b as w,k as O,l as f,e,f as u,t as r,h as T}from"./index-DtKSGrAm.js";import"./index-Br23pNtW.js";import"./index-By_bAaD8.js";import"./index-CK2i3JJ2.js";import"./index-DiGaO9lk.js";import"./index-DsNqXNZw.js";import"./index-Bmzqu6cu.js";import"./index-jQIVVtLz.js";import"./index-Bqx_AaIz.js";const M=C({name:"ViewDelivery",components:{Tag:g,ReusableTable:N,Motion:h},setup(){const s=I(),t=l(s.params.doNumber||""),m=l(""),b=l([{doNumber:"DO2024091501",poNumber:"PO2024090102",projectName:"Project A",driverPlate:"ABC-1234",deliveryDate:"20/09/2024",status:"pending",items:[{code:"ITM-001",description:"Item 1",ordered:100,received:50,remaining:50,unitPrice:10,status:"Partial"},{code:"ITM-002",description:"Item 2",ordered:200,received:200,remaining:0,unitPrice:20,status:"Completed"}]},{doNumber:"DO2024091502",poNumber:"PO2024090101",projectName:"Project B",driverPlate:"XYZ-5678",deliveryDate:"15/09/2024",status:"completed",items:[{code:"ITM-003",description:"Item 3",ordered:50,received:50,remaining:0,unitPrice:30,status:"Completed"},{code:"ITM-004",description:"Item 4",ordered:75,received:60,remaining:15,unitPrice:25,status:"Partial"}]}]),a=l([]),y=l([{field:"no",header:"No",bodySlot:"no"},{field:"code",header:"Item Code"},{field:"description",header:"Description"},{field:"ordered",header:"Ordered"},{field:"received",header:"Received"},{field:"remaining",header:"Remaining"},{field:"unitPrice",header:"Unit Price"},{field:"status",header:"Status",bodySlot:"status"}]),n=v(()=>b.value.find(o=>o.doNumber===t.value)||{poNumber:"",projectName:"",driverPlate:"",deliveryDate:"",status:"",items:[]}),i=v(()=>n.value.items.map((o,d)=>({...o,no:d+1}))),p=v(()=>n.value.status||"");function c(o){if(m.value=o,!o){a.value=i.value;return}const d=o.toLowerCase();a.value=i.value.filter(D=>D.code.toLowerCase().includes(d)||D.description.toLowerCase().includes(d))}return a.value=i.value,{doNumber:t,deliveryDetail:n,items:a,itemsColumns:y,status:p,search:m,onSearchWrapper:c}}}),j={class:"p-6 card glossy-card"},B={class:"text-sm text-gray-500"},$={class:"mt-4 p-4 border rounded"},L={class:"grid grid-cols-3 gap-4 text-sm"},R={class:"mt-6"};function V(s,t,m,b,a,y){const n=P,i=g,p=N,c=_("Motion");return w(),O(c,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8}},{default:f(()=>[e("div",j,[u(n),t[6]||(t[6]=e("h1",{class:"text-xl font-bold"},"Delivery Order",-1)),e("p",B,r(s.doNumber)+" - "+r(s.deliveryDetail.projectName),1),e("div",$,[t[5]||(t[5]=e("h2",{class:"font-semibold mb-2"},"Delivery Order Information",-1)),e("div",L,[e("div",null,[t[0]||(t[0]=e("p",{class:"font-semibold"},"DO Number",-1)),e("p",null,r(s.doNumber),1)]),e("div",null,[t[1]||(t[1]=e("p",{class:"font-semibold"},"PO Number",-1)),e("p",null,r(s.deliveryDetail.poNumber),1)]),e("div",null,[t[2]||(t[2]=e("p",{class:"font-semibold"},"Driver Plate",-1)),e("p",null,r(s.deliveryDetail.driverPlate),1)]),e("div",null,[t[3]||(t[3]=e("p",{class:"font-semibold"},"Delivery Date",-1)),e("p",null,r(s.deliveryDetail.deliveryDate),1)]),e("div",null,[t[4]||(t[4]=e("p",{class:"font-semibold"},"Status",-1)),e("p",null,[u(i,{value:s.status,severity:s.status==="pending"?"danger":"success"},null,8,["value","severity"])])])])]),e("div",R,[u(p,{value:s.items,columns:s.itemsColumns,onSearch:s.onSearchWrapper},{no:f(({data:o})=>[T(r(o.no),1)]),status:f(({data:o})=>[u(i,{value:o.status,severity:o.status.toLowerCase()==="completed"?"success":"warn"},null,8,["value","severity"])]),_:1},8,["value","columns","onSearch"])])])]),_:1})}const H=S(M,[["render",V]]);export{H as default};
